*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:       #0f1117;
  --bg-card:  #181a20;
  --bg-hover: #1e2028;
  --border:   #2a2d36;
  --text:     #e0e0e6;
  --text-dim: #8b8d97;
  --accent:   #6c8cff;
  --accent-hover:#8da8ff;
  --green:    #34d399;
  --red:      #f87171;
  --orange:   #fbbf24;
  --radius:   6px;
}
html,body{height:100%;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,sans-serif;font-size:14px}
a{color:var(--accent);text-decoration:none}

/* Layout */
#layout{display:flex;height:100vh}
#sidebar{
  width:200px;min-width:200px;background:var(--bg-card);border-right:1px solid var(--border);
  display:flex;flex-direction:column;padding:16px 0;
}
.logo{font-size:18px;font-weight:700;padding:0 20px 20px;color:var(--accent);letter-spacing:1px}
.nav-link{
  display:block;padding:10px 20px;color:var(--text-dim);transition:all .15s;
}
.nav-link:hover{background:var(--bg-hover);color:var(--text)}
.nav-link.active{color:var(--accent);background:var(--bg-hover);border-left:3px solid var(--accent);padding-left:17px}
.nav-spacer{flex:1}
.nav-status{padding:12px 20px;font-size:12px;color:var(--text-dim);border-top:1px solid var(--border)}

#content{flex:1;overflow-y:auto;padding:24px 32px}

/* Cards & Tables */
.page-title{font-size:22px;font-weight:600;margin-bottom:20px;display:flex;align-items:center;gap:12px}
.page-title .count{font-size:13px;color:var(--text-dim);font-weight:400}

table{width:100%;border-collapse:collapse}
th{text-align:left;padding:10px 12px;font-weight:500;color:var(--text-dim);border-bottom:1px solid var(--border);font-size:12px;text-transform:uppercase;letter-spacing:.5px}
td{padding:10px 12px;border-bottom:1px solid var(--border)}
tr:hover td{background:var(--bg-hover)}

/* Badges */
.badge{
  display:inline-block;padding:2px 8px;border-radius:10px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.3px;
}
.badge-running{background:rgba(52,211,153,.15);color:var(--green)}
.badge-stopped{background:rgba(248,113,113,.1);color:var(--red)}
.badge-disabled{background:rgba(139,141,151,.15);color:var(--text-dim)}
.badge-ok{background:rgba(52,211,153,.15);color:var(--green)}
.badge-error{background:rgba(248,113,113,.1);color:var(--red)}

/* Buttons */
.btn{
  display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border-radius:var(--radius);border:1px solid var(--border);
  background:var(--bg-card);color:var(--text);cursor:pointer;font-size:13px;transition:all .15s;
}
.btn:hover{background:var(--bg-hover);border-color:var(--accent)}
.btn-primary{background:var(--accent);color:#fff;border-color:var(--accent)}
.btn-primary:hover{background:var(--accent-hover)}
.btn-danger{border-color:var(--red);color:var(--red)}
.btn-danger:hover{background:rgba(248,113,113,.1)}
.btn-sm{padding:4px 10px;font-size:12px}

.actions{display:flex;gap:6px;flex-wrap:wrap}

/* Forms */
.form-group{margin-bottom:16px}
.form-group label{display:block;margin-bottom:4px;font-size:12px;color:var(--text-dim);text-transform:uppercase;letter-spacing:.3px}
input[type="text"],input[type="number"],input[type="password"],select,textarea{
  width:100%;padding:8px 12px;background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);
  color:var(--text);font-size:14px;font-family:inherit;
}
input:focus,select:focus,textarea:focus{outline:none;border-color:var(--accent)}
textarea{resize:vertical;min-height:60px}
.checkbox-group{display:flex;flex-wrap:wrap;gap:8px;margin-top:4px}
.checkbox-group label{
  display:flex;align-items:center;gap:4px;padding:4px 10px;background:var(--bg);border:1px solid var(--border);
  border-radius:var(--radius);cursor:pointer;font-size:13px;text-transform:none;letter-spacing:0;
}
.checkbox-group label.checked{border-color:var(--accent);background:rgba(108,140,255,.1)}
.checkbox-group input{display:none}

/* Toggle switch */
.toggle{position:relative;display:inline-block;width:40px;height:22px}
.toggle input{display:none}
.toggle-slider{
  position:absolute;inset:0;background:var(--border);border-radius:11px;cursor:pointer;transition:.2s;
}
.toggle-slider::before{
  content:'';position:absolute;height:16px;width:16px;left:3px;bottom:3px;
  background:var(--text);border-radius:50%;transition:.2s;
}
.toggle input:checked+.toggle-slider{background:var(--accent)}
.toggle input:checked+.toggle-slider::before{transform:translateX(18px)}

/* Modal */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:100}
.modal-overlay.hidden{display:none}
.modal{background:var(--bg-card);border:1px solid var(--border);border-radius:8px;padding:24px;min-width:400px;max-width:520px;width:100%}
.modal-title{font-size:18px;font-weight:600;margin-bottom:16px}
.modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:20px}

/* Chat bubbles */
.transcript{display:flex;flex-direction:column;gap:8px;max-width:700px}
.bubble{
  max-width:80%;padding:10px 14px;border-radius:12px;font-size:14px;line-height:1.5;
  word-break:break-word;white-space:pre-wrap;
}
.bubble-user{align-self:flex-end;background:var(--accent);color:#fff;border-bottom-right-radius:4px}
.bubble-assistant{align-self:flex-start;background:var(--bg-hover);border:1px solid var(--border);border-bottom-left-radius:4px}
.bubble-system{align-self:center;background:transparent;color:var(--text-dim);font-size:12px;font-style:italic}
.bubble-role{font-size:11px;color:var(--text-dim);margin-bottom:2px;text-transform:uppercase}

/* Detail view */
.detail-header{display:flex;align-items:center;gap:12px;margin-bottom:20px}
.detail-header .back{font-size:20px;cursor:pointer;color:var(--text-dim)}
.detail-header .back:hover{color:var(--text)}
.detail-card{background:var(--bg-card);border:1px solid var(--border);border-radius:8px;padding:20px;margin-bottom:20px}

/* Utilities */
.text-dim{color:var(--text-dim)}
.text-sm{font-size:12px}
.mt-8{margin-top:8px}
.mt-16{margin-top:16px}
.mb-16{margin-bottom:16px}
.flex-between{display:flex;justify-content:space-between;align-items:center}

/* Log viewer */
.log-toolbar{display:flex;align-items:center;gap:10px;margin-bottom:12px;flex-wrap:wrap}
.log-filter-label{display:flex;align-items:center;gap:4px;cursor:pointer;font-size:13px;user-select:none}
.log-filter-label input{accent-color:var(--accent);width:14px;height:14px}
.log-search{
  width:220px;padding:6px 10px;background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);
  color:var(--text);font-size:13px;font-family:inherit;margin-left:auto;
}
.log-search:focus{outline:none;border-color:var(--accent)}
.log-container{
  background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);
  overflow-y:auto;height:calc(100vh - 180px);padding:8px 0;
  font-family:'SF Mono',SFMono-Regular,Consolas,'Liberation Mono',Menlo,monospace;font-size:12px;line-height:1.6;
}
.log-line{display:flex;gap:8px;padding:1px 12px;align-items:baseline;white-space:nowrap}
.log-line:hover{background:var(--bg-hover)}
.log-time{color:var(--text-dim);flex-shrink:0}
.log-badge{
  display:inline-block;padding:0 5px;border-radius:3px;font-size:10px;font-weight:700;text-transform:uppercase;
  letter-spacing:.3px;flex-shrink:0;text-align:center;min-width:28px;
}
.log-badge-debug,.log-badge-trace{background:rgba(139,141,151,.15);color:var(--text-dim)}
.log-badge-info{background:rgba(52,211,153,.15);color:var(--green)}
.log-badge-warn{background:rgba(251,191,36,.15);color:var(--orange)}
.log-badge-error,.log-badge-fatal{background:rgba(248,113,113,.15);color:var(--red)}
.log-level-debug .log-msg,.log-level-trace .log-msg{color:var(--text-dim)}
.log-level-info .log-msg{color:var(--text)}
.log-level-warn .log-msg{color:var(--orange)}
.log-level-error .log-msg,.log-level-fatal .log-msg{color:var(--red)}
.log-msg{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.log-extra{color:var(--text-dim);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:11px}
.log-prop-key{color:var(--accent);opacity:.7}

/* Responsive */
@media(max-width:768px){
  #sidebar{width:60px;min-width:60px}
  .logo{font-size:14px;padding:0 8px 12px;text-align:center}
  .nav-link{padding:10px 8px;font-size:12px;text-align:center}
  #content{padding:16px}
}
